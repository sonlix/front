# Tags
Операции с тегами(метками)
___
### Table of Contents
* Получение тегов пользователя
* Получение тегов кастомера
* Прикрепление тегов
* Открепление тегов
* Возможные ошибки

## Получение тегов пользователя

#### Описание:
Запрос присылает все имеющиеся теги авторизованного пользователя, в т.ч. и те которые не используются.

#### Метод и роут:
`GET /ajax/users/tags`

#### Параметры:
Параметры не передаются.

#### Пример:
Request
```
GET /ajax/users/tags
```
Response
```
Status:
200 OK

body:
["tag1","tag2","tag3"]
```



## Получение тегов кастомеров
#### Описание:
Запрос присылает теги указанных кастомеров. Если у одного кастомера тег есть, а у второго его нет, то в ответе тег все-равно приходит. Если к двум кастомерам прикреплен одиновый тег, то в ответе придет один тег.

#### Метод и роут:
`GET /ajax/customers/tags`

#### Параметры:
Параметры передаются в строке запроса(query string).

| **Name** | **Type** | **Description**|  
|----------|----------|----------------|  
| ids  | Строка | **Required** id'шники кастомеров. Передаются в одной строкой через  запятую |

#### Пример:
К первому кастомеру прикреплен тег `tagName1` ко второму `tagName2`, а к третьему кастомеру прикреплены три тега `tagName1`, `tagName2`, `tagName3`.

Request
```
GET /ajax/customers/tags?ids=customerId1,customerId2,customerId3
```
Response
```
Status:
200 OK

body:
["tagName1","tagName2","tagName3"]
```

#### Возможные ошибки:
Неверный формат id

Request
```
GET /ajax/customers/tags?ids=шняга
```
Response
```
Status:
500 Internal Server Error

body:
{
    "message": "'шняга' is not a valid 24 digit hex string."
}
```




## Прикрепление тегов
#### Описание:
Прикрепляет тег(или несколько тегов) к указанным кастомерам.

#### Метод и роут:
`PATCH /ajax/customers/tags`

#### Параметры:
Параметры передаются в теле запроса в JSON виде.

| **Name** | **Type** | **Description**|  
|----------|----------|----------------|  
| ids  | коллекция из строк | **Required** Коллекция айдишников кастомеров. *NOTE* Для создания тегов у одного кастомера, следует передавать *коллекцию* c одним элементом |
| tags | коллекция из строк | Коллекция тэгов.

#### Пример:
Request
```
PATCH /ajax/customers/tags

body:
{
    "ids": ["customerId1", "customerId2", "customerId3"],
    "tags": ["tagName1", "tagName2"]
}
```
Response
```
Status:
204 No Content
```


## Открепление тегов
#### Описание:
Открепляет теги от указанных кастомеров.

#### Метод и роут:
`DELETE /ajax/customers/tags`

#### Параметры:
Параметры передаются в теле запроса в JSON виде.

| **Name** | **Type** | **Description**|  
|----------|----------|----------------|  
| ids  | коллекция из строк | **Required** Коллекция айдишников кастомеров. *NOTE* Для создания тегов у одного кастомера, следует передавать *коллекцию* c одним элементом |
| tags | коллекция из строк | Коллекция тэгов.

#### Пример:
Request
```
DELETE /ajax/customers/tags

body:
{
    "ids": ["customerId1", "customerId2", "customerId3"],
    "tags": ["tagName1", "tagName2"]
}
```
Response
```
Status:
204 No Content
```

